@if (open()) {
  <div
    class="ds-modal__backdrop"
    (click)="handleBackdropClick($event)"
    (keydown)="handleKeydown($event)"
    role="dialog"
    [attr.aria-modal]="true"
    [attr.aria-label]="ariaLabel() || title()"
    tabindex="-1"
  >
    <div class="ds-modal__dialog ds-modal__dialog--{{size()}}">
      @if (title() || showCloseButton()) {
        <div class="ds-modal__header">
          @if (title()) {
            <h2 class="ds-modal__title" id="modal-title">{{ title() }}</h2>
          }
          @if (showCloseButton()) {
            <button
              class="ds-modal__close"
              (click)="close()"
              aria-label="Close dialog"
              type="button"
            >
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
          }
        </div>
      }

      <div class="ds-modal__body">
        <ng-content select="[ds-modal-body]"></ng-content>
        <ng-content></ng-content>
      </div>

      <div class="ds-modal__footer">
        <ng-content select="[ds-modal-footer]"></ng-content>
      </div>
    </div>
  </div>
}
